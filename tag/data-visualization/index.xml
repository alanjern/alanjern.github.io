<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>data visualization | Alan Jern</title>
    <link>https://alanjern.github.io/tag/data-visualization/</link>
      <atom:link href="https://alanjern.github.io/tag/data-visualization/index.xml" rel="self" type="application/rss+xml" />
    <description>data visualization</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><lastBuildDate>Tue, 07 Jun 2022 00:00:00 +0000</lastBuildDate>
    <image>
      <url>https://alanjern.github.io/media/icon_hu49e7e73a8a25a7ce4faa6b59c54470ad_17277_512x512_fill_lanczos_center_2.png</url>
      <title>data visualization</title>
      <link>https://alanjern.github.io/tag/data-visualization/</link>
    </image>
    
    <item>
      <title>An analysis of Reddit&#39;s r/place</title>
      <link>https://alanjern.github.io/post/an-analysis-of-reddits-r/place/</link>
      <pubDate>Tue, 07 Jun 2022 00:00:00 +0000</pubDate>
      <guid>https://alanjern.github.io/post/an-analysis-of-reddits-r/place/</guid>
      <description>


&lt;p&gt;One of my favorite things on the internet this year was &lt;a href=&#34;https://www.washingtonpost.com/technology/2022/04/04/reddit-place-internet-communities/&#34;&gt;Reddit‚Äôs r/place&lt;/a&gt;, a multi-day collaborative art project in which each user could set the color of one pixel every five minutes on a giant 2000x2000 pixel canvas.&lt;/p&gt;
&lt;p&gt;With millions of users, the result could easily have been a chaotic mess. Instead, subreddit communities coordinated and cooperated to produce something pretty amazing (see the final product at the top of this post).&lt;/p&gt;
&lt;p&gt;After r/place ended, Reddit &lt;a href=&#34;https://www.reddit.com/r/place/comments/txvk2d/rplace_datasets_april_fools_2022/?utm_source=share&amp;amp;utm_medium=ios_app&amp;amp;utm_name=iossmf&#34;&gt;released all the pixel data&lt;/a&gt; from the event. I thought it might be interesting to see what I could learn from it.&lt;/p&gt;
&lt;div id=&#34;how-did-the-event-unfold&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;How did the event unfold?&lt;/h2&gt;
&lt;p&gt;One of the most fascinating parts of watching r/place happen was all the ensuing drama ‚Äì the feuds, the conflicts, the warring factions, the invasions. Groups were constantly battling over territory, there was a purely destructive group known as The Black Void whose goal was just to erase everything with black pixels, and certain areas were frequent targets for vandalism.&lt;/p&gt;
&lt;p&gt;You can get a sense of all that by watching &lt;a href=&#34;https://youtu.be/K5O3UgLG2Jw&#34;&gt;this timelapse video&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;What did the event look like from the standpoint of the raw data? First, let‚Äôs look at pixel placement activity over time.&lt;/p&gt;
&lt;div id=&#34;overall-activity-over-time&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Overall activity over time üìà&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/an-analysis-of-reddits-r/place/index_files/figure-html/plot-pixels-over-time-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The most obvious trend is increasing activity over time. Interest likely went up as more people learned about r/place.&lt;/p&gt;
&lt;p&gt;The plot also shows moderator activity (the colored bands). This was a point of controversy and speculation ‚Äì specifically, that admins were censoring stuff they didn‚Äôt like. But according to the data, the moderators took a pretty hands-off approach, only intervening 19 times.&lt;/p&gt;
&lt;p&gt;When they did intervene, they drew a colored square over some objectionable content. The bands in the plot show the colors the mods used; the widths of the bands are relative to the size of the squares the mods drew.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;which-colors-were-most-popular&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Which colors were most popular? üé®&lt;/h3&gt;
&lt;p&gt;At two points in the event, the admins increased the number of available pixel colors. By the end, there were 32 colors to pick from.&lt;/p&gt;
&lt;p&gt;Let‚Äôs look at which colors were most popular and when.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/an-analysis-of-reddits-r/place/index_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Black and white were far and away the most popular colors.&lt;/p&gt;
&lt;p&gt;You can see the two points when the new sets of colors were introduced. Most of the new colors never overtook the original colors in popularity, but a couple did.&lt;/p&gt;
&lt;p&gt;Keep in mind that these totals don‚Äôt necessarily represent how prevalent a color is in the final canvas. This plot just shows how often people placed pixels with each color. That color may have been overwritten numerous times.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;which-parts-of-the-canvas-were-most-contentious&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Which parts of the canvas were most contentious? ü•ä&lt;/h3&gt;
&lt;p&gt;We can get the best visual sense of the drama that unfolded on r/place by looking at which pixels had the most activity. If a pixel was overwritten many times, that‚Äôs a sign that users were fighting over that area of the canvas.&lt;/p&gt;
&lt;p&gt;In the picture below, I‚Äôve made a heatmap where brighter spots indicate areas where there was more activity and darker spots indicate areas with less activity.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/an-analysis-of-reddits-r/place/index_files/figure-html/pixel-activity-heatmap-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The amazing thing about this image is that, if you look carefully, you can make out many parts of the final canvas, like the &lt;a href=&#34;https://place-atlas.stefanocoding.me/#000031&#34;&gt;Turkish flag&lt;/a&gt; or the &lt;a href=&#34;https://place-atlas.stefanocoding.me/#txibq9&#34;&gt;osu! logo&lt;/a&gt;. This shows how contentious these areas were: they were frequently under attack and lots of work was put into preserving them.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The most active pixel was changed nearly 100,000 times&lt;/strong&gt;. It happened to be the most upper-left pixel in the canvas. On the other end of the spectrum, there were nearly 2900 pixels (0.07% of the canvas) that were placed only once for the entire duration of the event. No pixels were completely untouched.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;individual-user-activity&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Individual user activity üíª&lt;/h2&gt;
&lt;p&gt;One specific question I had was whether most activity was driven by a small fraction of users. This is a common phenomenon online where, for example, a small percentage of users are responsible for the vast majority of comments. This is actually a broader phenomenon known as &lt;a href=&#34;https://en.wikipedia.org/wiki/Zipf%27s_law&#34;&gt;Zipf‚Äôs law&lt;/a&gt; in which, essentially, the most common items in a set are vastly more common than the the less common items. Was that true here? For example, I found that over 2.3 million users in this dataset only placed a single pixel.&lt;/p&gt;
&lt;p&gt;I pulled the top 100,000 most prolific users (i.e., users that placed the most pixels) and plotted the number of pixels they placed in order of their their rank.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/an-analysis-of-reddits-r/place/index_files/figure-html/plot-contributors-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The results don‚Äôt quite follow Zipf‚Äôs law. It turns out the most extremely prolific users (who placed 600+ pixels) weren‚Äôt that much more prolific than thousands of others who placed 200+ pixels.&lt;/p&gt;
&lt;p&gt;Let‚Äôs instead look at &lt;em&gt;what&lt;/em&gt; they actually did, starting with the most prolific user, who placed 795 pixels. Below, I‚Äôve traced this user‚Äôs path over roughly 3.5 days.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/an-analysis-of-reddits-r/place/index_files/figure-html/plot-top-user-activity-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Looking at this user‚Äôs most frequent contributions, and after doing a bit of research on &lt;a href=&#34;https://place-atlas.stefanocoding.me/&#34;&gt;the r/place atlas&lt;/a&gt; I inferred that they are a My Little Pony fan. The My Little Pony community apparently started working in the upper left part of the canvas but &lt;a href=&#34;https://place-atlas.stefanocoding.me/#two6gx&#34;&gt;moved to the upper right&lt;/a&gt; and &lt;a href=&#34;https://place-atlas.stefanocoding.me/#000367&#34;&gt;later to the bottom&lt;/a&gt;, due to &lt;a href=&#34;https://place-atlas.stefanocoding.me/#tx5qkx&#34;&gt;conflict with followers of a Twitch streamer&lt;/a&gt;. ü§∑&lt;/p&gt;
&lt;p&gt;This extremely active brony moved around a fair amount. Let‚Äôs look at some other users who barely moved at all. In the figure below, I‚Äôve traced the paths of 10 of the least mobile users among the top 1000 most prolific.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/an-analysis-of-reddits-r/place/index_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The colors here are just meant to distinguish between users.&lt;/p&gt;
&lt;p&gt;Among these users was one (the upper-leftmost one) who placed 539 pixels in roughly 58 hours. 443 of those pixels were placed in just a single location. That location? The upper left in the &lt;a href=&#34;https://place-atlas.stefanocoding.me/#000111&#34;&gt;‚Äúconnection lost‚Äù area&lt;/a&gt; (some kind of long-running inside joke). The color? &lt;span style=&#34;color: #FF4500;&#34;&gt;Orange-red&lt;/span&gt;. That area pretty much never changed (and was always black). So this person basically accomplished nothing and was almost certainly a bot (more on that in a bit).&lt;/p&gt;
&lt;p&gt;Another user in the figure above (the lime green colored one in the upper left) placed 501 pixels in a roughly a 50-hour period, all within a 36x41 pixel area. That area? &lt;a href=&#34;https://place-atlas.stefanocoding.me/#twmbw6&#34;&gt;The Canadian flag&lt;/a&gt;. The hilarious tragedy of the Canadian flag is documented &lt;a href=&#34;https://youtu.be/TyVXmpHQOqk&#34;&gt;here&lt;/a&gt;. What is impossible to determine is whether this person was trying to vandalize the flag or repair the vandalism.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;the-rise-of-the-bots&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The rise of the bots ü§ñ&lt;/h2&gt;
&lt;p&gt;Another major controversy was over the use of ‚Äúbots‚Äù ‚Äì scripts that automatically placed pixels for you whenever your five-minute cool-down period was up. They weren‚Äôt forbidden, but some people saw them as a kind of cheating.&lt;/p&gt;
&lt;p&gt;Accusations of widespread bot use were common. But can we find evidence for that in the data?&lt;/p&gt;
&lt;p&gt;I looked at every user who placed at least 20 pixels. I then looked at the percentage of times they placed a pixel within 303 seconds (5 minutes + 3 seconds) of their last pixel. In other words, how often were they placing pixels almost as soon as they possibly could?&lt;/p&gt;
&lt;p&gt;Here are the results.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/an-analysis-of-reddits-r/place/index_files/figure-html/unnamed-chunk-9-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;It looks like bots were relatively rare. And contrary to my expectations, even among the users that placed hundreds of pixels, they weren‚Äôt generally more likely to be bots. Some people who placed 400+ pixels almost never placed them immediately after their 5 minute cool-off periods, suggesting they were placing them manually.&lt;/p&gt;
&lt;p&gt;I chose 3 seconds after the cool-off period ended somewhat arbitrarily, so I re-ran the analysis varying this delay from 0 to 10 seconds. Then I computed what percentage of pixels overall were placed within that period of time.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/an-analysis-of-reddits-r/place/index_files/figure-html/plot-proportion-of-fast-returns-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Obviously, the longer the delay, the more pixels get included. But even for delays up to 10 seconds, no more than 15% of all pixels were placed.&lt;/p&gt;
&lt;p&gt;The bottom line: Surely some people were using scripts. Perhaps as many as 5-10% of pixels were placed by scripts. But this analysis suggests that the vast majority of users weren‚Äôt using them and the vast majority of pixels were manually placed.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;code&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Code&lt;/h2&gt;
&lt;p&gt;The full analysis code I used to generate these plots is available &lt;a href=&#34;https://github.com/alanjern/r-place&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>When are waits lowest at Disney World?</title>
      <link>https://alanjern.github.io/post/when-are-waits-lowest-at-disney-world/</link>
      <pubDate>Sat, 11 Dec 2021 00:00:00 +0000</pubDate>
      <guid>https://alanjern.github.io/post/when-are-waits-lowest-at-disney-world/</guid>
      <description>
&lt;script src=&#34;https://alanjern.github.io/post/when-are-waits-lowest-at-disney-world/index_files/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;I love Disney World. I hate waiting in line. Sadly you can‚Äôt go to Disney World without waiting in line. But if you plan ahead, you can keep the waiting to a minimum.&lt;/p&gt;
&lt;p&gt;Part of that planning is going at the right time. Visitors are somewhat predictable: they don‚Äôt visit uniformly throughout the year. If you have the flexibility, you can minimize your wait times by going when other people aren‚Äôt. But when are those times?&lt;/p&gt;
&lt;p&gt;To try to answer that question, I found a great &lt;a href=&#34;https://touringplans.com/walt-disney-world/crowd-calendar#DataSets&#34;&gt;dataset&lt;/a&gt; from Touring Plans of posted wait times for several attractions in each park every few minutes of each day going back to 2015.&lt;/p&gt;
&lt;div id=&#34;a-year-at-magic-kingdom-in-waits&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;A year at Magic Kingdom in waits&lt;/h2&gt;
&lt;p&gt;For Magic Kingdom, Touring Plans has data for three attractions: &lt;em&gt;Pirates of the Caribbean&lt;/em&gt;, &lt;em&gt;Seven Dwarfs Mine Train&lt;/em&gt;, and &lt;em&gt;Splash Mountain&lt;/em&gt;. To get a sense of how waits at Magic Kingdom vary over the calender year, I took waits from every day between January 1st, 2015 and March 15, 2020 (the last day Disney World was open before it shut down for Covid), dropped the year (combining, for example, all waits from January 1st from all years), then computed the mean waits for each day of the year based on the three attractions.&lt;/p&gt;
&lt;p&gt;Here are the results.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/when-are-waits-lowest-at-disney-world/index_files/figure-html/plot-yearly-average-waits-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The plot also shows US holidays (some holidays fell on different days between 2015 and 2021), and estimates of public school breaks. School breaks vary a lot, so I just went with the &lt;a href=&#34;https://www.ocps.net/about_us/calendars/historical_calendars&#34;&gt;dates of the Orange County Public School district&lt;/a&gt; in Florida, which includes Orlando. The data on US holidays comes from &lt;a href=&#34;https://gist.github.com/shivaas/4758439&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There are a few conclusions that you can draw from this plot:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Waits spike during holidays.&lt;/li&gt;
&lt;li&gt;Waits rise in the summer.&lt;/li&gt;
&lt;li&gt;Waits rise in late March/early April, probably due to Spring break.&lt;/li&gt;
&lt;li&gt;Waits seem to be lowest in the Fall and early December.&lt;/li&gt;
&lt;li&gt;On any given day, waits vary a lot. The gray bands show the boundaries between the 25th and 75th percentiles for waits each day for the five years in the data. For example, the mean wait on January 1st is 52 minutes, but 25% of the posted waits on that day for the three attractions were under 20 minutes and 25% of the posted waits were over 75 minutes.&lt;/li&gt;
&lt;li&gt;New Year‚Äôs Eve is hell at Magic Kingdom.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This plot is already pretty helpful, but it would be nice if we would be a little more precise. That is, can we use a statistical model to say, in quantitative terms, how much better or worse the best and worst times to visit are?&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;how-much-of-a-difference-does-the-time-of-year-make&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;How much of a difference does the time of year make?&lt;/h2&gt;
&lt;p&gt;I fit a linear regression model that used week of the year and whether the day was within a day of a holiday to predict wait times. (Including whether a day was during a school break didn‚Äôt make much difference in terms of predictions, probably because week of the year already captured most of what ‚Äúbreak time‚Äù would.)&lt;/p&gt;
&lt;div id=&#34;results&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Results&lt;/h3&gt;
&lt;p&gt;On average, &lt;strong&gt;days that are on or near holidays have average waits that are about 6 minutes longer than days that aren‚Äôt&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;The effects of week are shown below. Because the actual wait times are somewhat meaningless (they are just averages of three attractions), I‚Äôve plotted changes in terms of percent. These changes are relative to Week 16 of the year (around mid-April), which is pretty close to an average week at Disney World.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/when-are-waits-lowest-at-disney-world/index_files/figure-html/show-modeling-results-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;best weeks&lt;/strong&gt; to visit in terms of low waits are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;September through early October, when waits can decrease by 20-30% from baseline.&lt;/li&gt;
&lt;li&gt;first half of December, when waits can decrease by about 20% from baseline.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;strong&gt;worst weeks&lt;/strong&gt; to visit are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The last two weeks of the year and the first week of the year, when waits can increase by over 20% from baseline.&lt;/li&gt;
&lt;li&gt;Late March to early April, when waits can increase by about 20% from baseline.&lt;/li&gt;
&lt;li&gt;Mid-July to early August, when waits can increase by 15-20% from baseline.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;And don‚Äôt ever go to Disney World on New Years Eve.&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;how-has-covid-affected-waits&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;How has Covid affected waits?&lt;/h2&gt;
&lt;p&gt;Disney World shut down due to Covid on March 15th, 2020. It reopened on July 11th that same year and has remained open ever since. It changed a lot of its operations after reopening. And, initially, visitors were skittish about returning. So how have wait times changed since reopening?&lt;/p&gt;
&lt;p&gt;To answer this question, I compared the model‚Äôs predicted wait times to the posted wait times from the Touring Plans dataset, collected from the date of reopening.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/when-are-waits-lowest-at-disney-world/index_files/figure-html/compare-predictions-to-post-covid-data-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note that there‚Äôs a lot of missing data in the Fall of 2020.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This plot suggests that, since reopening, wait times have generally been a little lower than average, except for maybe in July 2021. However, it looks like waits are beginning to return to their usual patterns as of this past Fall. It‚Äôs probably too soon to say whether it‚Äôs a persisent pattern.&lt;/p&gt;
&lt;p&gt;For comparison, we can do the same analysis for a different park. I fit another model using the same method with Touring Plans data for the Hollywood Studios park in Disney World. Touring Plans provides wait times for four attractions in Hollywood Studios: &lt;em&gt;Rock ‚Äòn‚Äô Roller Coaster&lt;/em&gt;, &lt;em&gt;Alien Swirling Saucers&lt;/em&gt;, &lt;em&gt;Slinky Dog Dash&lt;/em&gt;, and &lt;em&gt;Toy Story Mania&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Here‚Äôs the comparable plot.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/when-are-waits-lowest-at-disney-world/index_files/figure-html/compare-hs-preidctions-to-post-covid-data-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The pattern is basically the same. Generally lower-than-expected waits and an apparent return to normal starting this past Fall.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;should-i-book-my-trip&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Should I book my trip?&lt;/h2&gt;
&lt;p&gt;Not quite yet.&lt;/p&gt;
&lt;p&gt;As a check, I compared my work to the weekly ranking developed by Dave Shute of &lt;a href=&#34;https://yourfirstvisit.net/&#34;&gt;yourfirstvisit.net&lt;/a&gt;. Dave doesn‚Äôt base his recommendations on statistics and data analysis. Instead, they‚Äôre based on his years of firsthand knowledge and experience. &lt;a href=&#34;https://yourfirstvisit.net/2021/01/11/the-best-weeks-in-2021-to-visit-walt-disney-world-ranked-in-order/&#34;&gt;Here&lt;/a&gt; are his recommendations for 2021.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;images/yfw_bestweeks_2021.png&#34; alt=&#34;yourfirsrtvisit‚Äôs 2021 Disney World weekly visit rankings&#34; /&gt;
Surprisingly, his recommendations don‚Äôt align with mine much at all. Some of his top-ranked weeks are in the middle of summer. After that, he recommends going in mid-April and early May.&lt;/p&gt;
&lt;div id=&#34;whats-going-on&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;What‚Äôs going on?&lt;/h3&gt;
&lt;p&gt;First, Dave factors in more than crowd levels. He considers things like weather and ride closures. September may be a low-crowd time but it‚Äôs also peak hurricane season. And low-crowd times tend to coincide with suboptimal experiences: Disney is well aware of these seasonal patterns, so they reduce operating hours and schedule attraction refurbishments in the off-season. This means you may get less time in the park and fewer things to do if you go during a less popular time.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;So if your goal is to have the best overall experience (which Dave‚Äôs advice is targeted toward), choosing the the lowest-crowd time may not actually be best.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Second, Dave may have some knowledge not captured in the data. He seems to discount some of the weeks (like in early December) as heavy-crowd times that my analysis predicts will have lower than average waits.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;okay-but-all-i-care-about-is-short-waits.-should-i-book-my-trip-now&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Okay, but all I care about is short waits. Should I book my trip &lt;em&gt;now&lt;/em&gt;?&lt;/h3&gt;
&lt;p&gt;All else being equal, lower waits are better. But is this data giving an accurate picture of wait times? Maybe not.&lt;/p&gt;
&lt;p&gt;Aside from the fact that the dataset only includes a few attractions per park, the data are &lt;em&gt;posted&lt;/em&gt; wait times, not &lt;em&gt;actual&lt;/em&gt; wait times. Disney is &lt;a href=&#34;https://www.disneytouristblog.com/actual-versus-posted-wait-times-disney-world/&#34;&gt;notorious&lt;/a&gt; for inflating posted wait times. After all, people are happier when they get in a line expecting to wait 30 minutes and only end up waiting 15 than when they get in a line expecting to wait 15 and end up waiting 30.&lt;/p&gt;
&lt;p&gt;Additionally, ever since Disney parks started posting wait times on their mobile apps, it‚Äôs been strongly suspected that they intentionally manipulate posted wait times to disperse crowds. For example, they might inflate wait times in Tomorrowland to push people toward Frontierland on the other side of the park. (To learn more about this, along with the fascinating history of FastPasses and their influence on wait times, check out &lt;a href=&#34;https://youtu.be/9yjZpBq1XBE&#34;&gt;this&lt;/a&gt; nearly two-hour long video. It‚Äôs really interesting, I promise!)&lt;/p&gt;
&lt;p&gt;So you probably shouldn‚Äôt take the absolute numbers too seriously. But if waits are consistently inflated year-round, you can probably expect to encounter shorter waits in September than in June, for example, and you can treat this data as an indirect measure of crowds levels.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;conclusion&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;There is a clear seasonal pattern to waits (or, perhaps more accurately, crowd levels) at Disney World. Exactly how much impact this will have on the quality of your visit is hard to say because that depends on many more factors.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;But, for the love of God, don‚Äôt go to Disney World on New Year‚Äôs Eve.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;code-and-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Code and data&lt;/h2&gt;
&lt;p&gt;Data and the full analysis code I used to generate these plots are available &lt;a href=&#34;https://github.com/alanjern/wdw-waits&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Can you save money at Union Hospital by not using insurance?</title>
      <link>https://alanjern.github.io/post/can-you-save-money-at-union-hospital-by-not-using-insurance/</link>
      <pubDate>Fri, 27 Aug 2021 00:00:00 +0000</pubDate>
      <guid>https://alanjern.github.io/post/can-you-save-money-at-union-hospital-by-not-using-insurance/</guid>
      <description>
&lt;script src=&#34;https://alanjern.github.io/post/can-you-save-money-at-union-hospital-by-not-using-insurance/index_files/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;One of the many frustrating things about health care in the US is not having a clue what things are going to cost. But this year, a new federal law went into effect requiring hospitals to publish all of their prices.&lt;/p&gt;
&lt;p&gt;I learned about this after reading &lt;a href=&#34;https://www.nytimes.com/interactive/2021/08/22/upshot/hospital-prices.html&#34;&gt;this article in the New York Times&lt;/a&gt; by Sarah Kliff and Josh Katz. They analyzed the price lists at a number of hospitals and found some huge disparities in prices for identical treatments at the same hospitals and some puzzling discrepancies in insurers‚Äô negotiated prices. Notably, sometimes, the listed price for a treatment negotiated by an insurance company was &lt;em&gt;higher&lt;/em&gt; than the listed price for a patient with no insurance at all. For insurance plans with high deductibles, this means you could potentially save money by &lt;em&gt;not&lt;/em&gt; using your insurance for some treatments.&lt;/p&gt;
&lt;p&gt;This got me curious about my own insurance and my own local hospital, so I decided to do a similar analysis.&lt;/p&gt;
&lt;div id=&#34;the-data&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;The data üóí&lt;/h1&gt;
&lt;p&gt;Union Hospital, the largest health care provider in my town, makes their price list available &lt;a href=&#34;https://www.myunionhealth.org/patients-and-visitors/for-patients/billing-and-insurance/online-estimate/&#34;&gt;here&lt;/a&gt;. It includes a line for each treatment or procedure for each different insurer. It‚Äôs admittedly a little hard to make sense of. Here‚Äôs a small sample of the data.&lt;/p&gt;
&lt;table&gt;
&lt;colgroup&gt;
&lt;col width=&#34;4%&#34; /&gt;
&lt;col width=&#34;36%&#34; /&gt;
&lt;col width=&#34;8%&#34; /&gt;
&lt;col width=&#34;14%&#34; /&gt;
&lt;col width=&#34;14%&#34; /&gt;
&lt;col width=&#34;15%&#34; /&gt;
&lt;col width=&#34;6%&#34; /&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;Code&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Description&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Gross charge&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Max negotiated charge&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Min negotiated charge&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Insurer&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Charge&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;110.2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ear, nose, mouth, throat, cranial/facial malignancies&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;37,706.14&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;5,687.37&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;5,687.37&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Caresource HIP&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;5687.37&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;110.2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ear, nose, mouth, throat, cranial/facial malignancies&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;37,706.14&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;5,687.37&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;5,687.37&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Healthy Ind MD Wise&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;5687.37&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;110.2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ear, nose, mouth, throat, cranial/facial malignancies&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;37,706.14&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;5,687.37&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;5,687.37&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Healthy Indiana Anthem&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;5687.37&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;110.2&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ear, nose, mouth, throat, cranial/facial malignancies&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;37,706.14&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;5,687.37&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;5,687.37&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;MHS HIP&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;5687.37&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;110.4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ear, nose, mouth, throat, cranial/facial malignancies&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;50,000.16&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;13,963.29&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;13,963.29&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Caresource HIP&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;13963.29&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;110.4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ear, nose, mouth, throat, cranial/facial malignancies&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;50,000.16&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;13,963.29&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;13,963.29&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Healthy Ind MD Wise&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;13963.29&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;My interpretation of this is that the final column, &lt;code&gt;Charge&lt;/code&gt;, is the result of the negotiation process and is what should be considered the final negotiated ‚Äúprice‚Äù of a procedure. The rest of my analysis is based on that assumption.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;does-my-own-insurance-plan-save-me-money&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Does my own insurance plan save me money? üíµ&lt;/h1&gt;
&lt;p&gt;My insurance plan is &lt;strong&gt;Anthem Blue Access PPO&lt;/strong&gt;. It‚Äôs part of the Blue Cross Blue Shield association, one of the biggest health insurance companies in the country. Like many people in the US, I get it through my employer and don‚Äôt really have much of a choice in the matter.&lt;/p&gt;
&lt;p&gt;I was first interested in whether Anthem‚Äôs negotiated prices at Union were at least as good as those charged to people with no insurance. As Matt Eyles, chief executive of America‚Äôs Health Insurance Plans says in the NYT article, ‚ÄúInsurers want to make sure they are negotiating the best deals they can for their members, to make sure their products have competitive premiums‚Äù.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/can-you-save-money-at-union-hospital-by-not-using-insurance/index_files/figure-html/plot-anthem-vs-self-pay-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This plot includes every treatment and procedure in Union‚Äôs price list (except for some extremely expensive ones). Each point is one procedure. Points that fall below the white diagonal line are actually cheaper with no insurance than with my Anthem insurance. Because there are so many points bunched up near the diagonal, it‚Äôs hard to tell that actually 91% of the points are on or above the line, suggesting that Anthem‚Äôs negotiated prices are generally good, relative to having no insurance (they are, unsurprisingly, much higher than Medicare‚Äôs prices).&lt;/p&gt;
&lt;p&gt;But what are those remaining 9% of procedures? Imaging seems to account for a few. &lt;strong&gt;Union Hospital charges Anthem about $350 more for MRIs than it does for patients with no insurance.&lt;/strong&gt; And it charges about &lt;strong&gt;$310 more for CT scans.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;For some other procedures, prices vary depending on several factors, and sometimes Anthem‚Äôs price is lower, and sometimes it isn‚Äôt. For example, here are all the prices for colonoscopies in the price list.&lt;/p&gt;
&lt;table&gt;
&lt;colgroup&gt;
&lt;col width=&#34;82%&#34; /&gt;
&lt;col width=&#34;7%&#34; /&gt;
&lt;col width=&#34;10%&#34; /&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;left&#34;&gt;Description&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Anthem price&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;No insurance price&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy through stoma; with removal of tumor(s), polyp(s), or other lesion(s) by hot biopsy forceps&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2688.12&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1881.68&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy, flexible; with removal of foreign body(s)&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2593.67&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1815.57&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy, flexible; with control of bleeding, any method&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2526.29&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1768.41&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy, flexible; with transendoscopic balloon dilation&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2785.00&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2102.55&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy, flexible; with ablation of tumor(s), polyp(s), or other lesion(s) (includes pre- and post-dilation and guide wire passage, when performed)&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2071.23&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;1449.86&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy through stoma; with removal of tumor(s), polyp(s), or other lesion(s) by snare technique&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2785.00&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2184.82&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy, flexible; with directed submucosal injection(s), any substance&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2785.00&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2685.72&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy, flexible; with band ligation(s) (eg, hemorrhoids)&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3044.17&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3466.60&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy, flexible; diagnostic, including collection of specimen(s) by brushing or washing, when performed (separate procedure)&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2785.00&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3631.14&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy, flexible; with removal of tumor(s), polyp(s), or other lesion(s) by hot biopsy forceps&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2785.00&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3642.09&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy, flexible; with biopsy, single or multiple&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2785.00&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3705.97&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy, flexible; with removal of tumor(s), polyp(s), or other lesion(s) by snare technique&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2785.00&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3705.97&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy through stoma; diagnostic, including collection of specimen(s) by brushing or washing, when performed (separate procedure)&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2785.00&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3726.00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;left&#34;&gt;Colonoscopy through stoma; with biopsy, single or multiple&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;2785.00&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;3758.64&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;There doesn‚Äôt seem to be much rhyme or reason to when the Anthem prices are lower and when the cash (no insurance) prices are lower, but maybe I‚Äôm missing something. (There are some similar oddities in the pricing for C-sections.)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/can-you-save-money-at-union-hospital-by-not-using-insurance/index_files/figure-html/compare-prices-for-key-procedures-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;how-do-union-hospitals-negotiated-prices-compare-overall&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;How do Union Hospital‚Äôs negotiated prices compare overall? üìà&lt;/h1&gt;
&lt;p&gt;The price list includes prices for nearly 150 different insurance plans. How do the rest of them fare? The plot below replicates the first plot but includes prices from all insurers. I‚Äôve separated out the five largest private insurers ‚Äì Aetna, Cigna, Humana, United, and the Blue Cross Blue Shield Association.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/can-you-save-money-at-union-hospital-by-not-using-insurance/index_files/figure-html/compare-all-insurers-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Across all procedures, insurers‚Äô negotiated prices don‚Äôt compare very favorably with Union Hospital‚Äôs cash prices for people with no insurance. The fact that ‚Äúnon-major‚Äù insurers‚Äô prices beat the cash prices only 34% of the time is especially surprising because that group includes several Medicare plans, whose prices are consistently very low (and almost certainly beat the cash prices every time).&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;what-does-this-mean&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;What does this mean? ü§®&lt;/h1&gt;
&lt;p&gt;Information like this is potentially important for patients to have. But as the NYT article indicates, price discrepancies and inconsistencies are probably more embarrassing for the insurance companies than for the hospitals because the insurers want to be able to claim that they have negotiated competitive prices.&lt;/p&gt;
&lt;div id=&#34;how-seriously-should-we-take-this-information&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;How seriously should we take this information?&lt;/h2&gt;
&lt;p&gt;It‚Äôs probably hard to be sure. The price that gets charged for medical care surely depends on lots of factors. So I personally wouldn‚Äôt consider it a guarantee that because an entry in this list shows that a specific procedure is cheaper with no insurance that I‚Äôd be better off not using my insurance to get it.&lt;/p&gt;
&lt;p&gt;But this information isn‚Äôt made up either. Hospitals &lt;em&gt;do&lt;/em&gt; use these price lists as a starting point (at least) for billing. So I think it‚Äôs reasonable to use these price lists to draw some broadly valid conclusions about the value of your health insurance and the approximate costs of your health care.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;how-much-does-this-matter&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;How much does this matter?&lt;/h2&gt;
&lt;p&gt;One last point I haven‚Äôt addressed is that the price charged by the hospital is not the same thing as the price you owe as an individual. The difference between a price tag of $50,000 and $60,000 may be irrelevant to you if you have health insurance with a deductible of $2,000 that pays all costs after that deductible is met. So some of these price discrepancies are problems for insurance companies, not for consumers.&lt;/p&gt;
&lt;p&gt;But, as you‚Äôll note above, some of the cases where Anthem is beat by the ‚Äúno insurance‚Äù rates are well below common deductibles. So these cost differences can affect how much you are paying üíµ.&lt;/p&gt;
&lt;div id=&#34;code-and-data&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Code and data üìë&lt;/h3&gt;
&lt;p&gt;Code and data for this analysis is available &lt;a href=&#34;https://github.com/alanjern/union-hospital-prices&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Three police offers have died in Terre Haute in the last 10 years. Is that a lot?</title>
      <link>https://alanjern.github.io/post/three-police-offers-have-died-in-terre-haute-in-the-last-10-years.-is-that-a-lot/</link>
      <pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate>
      <guid>https://alanjern.github.io/post/three-police-offers-have-died-in-terre-haute-in-the-last-10-years.-is-that-a-lot/</guid>
      <description>
&lt;script src=&#34;https://alanjern.github.io/post/three-police-offers-have-died-in-terre-haute-in-the-last-10-years.-is-that-a-lot/index_files/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;


&lt;div id=&#34;background&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Background üîé&lt;/h1&gt;
&lt;p&gt;This week, Terre Haute Police Department Detective Greg Ferency &lt;a href=&#34;https://www.cnn.com/2021/07/08/us/indiana-police-officer-fbi-task-force-ambushed/index.html&#34;&gt;was shot&lt;/a&gt; on the job. This is where I live and, as the local news &lt;a href=&#34;https://www.wthitv.com/content/news/Three-Terre-Haute-Police-Department-deaths-in-10-years---the-citys-mayor-shares-his-thoughts-574794821.html&#34;&gt;noted&lt;/a&gt;, it was the third police death in the THPD in 10 years. For a city of only around 60,000, this seemed like a lot and led my wife to wonder if it was unusually high. I tried to find out.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;crime-scene-wthi.jpg&#34; alt=&#34;Crime scene photo&#34; /&gt;
&lt;em&gt;Photo: &lt;a href=&#34;https://www.wthitv.com/content/news/Police-search-for-suspect-after-an-officer-was-shot-in-Terre-Haute-574784911.html&#34;&gt;WTHI&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;the-data&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;The data üìí&lt;/h1&gt;
&lt;p&gt;üóÑ I collected data on police officer deaths from the &lt;a href=&#34;https://www.odmp.org/&#34;&gt;Officer Down Memorial Page&lt;/a&gt;. Their database includes ‚Äúline of duty‚Äù deaths from all causes going back to before 1800. I decided to only collect data from 1980 to today (the most recent death in the database was the death in Terre Haute). So my analysis is only of deaths from the last ~40 years.&lt;/p&gt;
&lt;p&gt;üóÑ Data on US &lt;a href=&#34;https://www.census.gov/data/datasets/time-series/demo/popest/2010s-counties-total.html&#34;&gt;county&lt;/a&gt; and &lt;a href=&#34;https://www.census.gov/data/tables/time-series/demo/popest/2010s-total-cities-and-towns.html&#34;&gt;city&lt;/a&gt; populations came from the &lt;a href=&#34;https://www.census.gov/en.html&#34;&gt;US Census&lt;/a&gt;. This data includes annual population estimates going back about 10 years. For this analysis, I just decided to use the population numbers from the 2010 census.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;how-i-combined-the-data&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;How I combined the data&lt;/h1&gt;
&lt;p&gt;I made a few assumptions to get the data in a workable format. First, I narrowed the set of police deaths down to those that occurred in departments that had &lt;code&gt;Police Department&lt;/code&gt; or &lt;code&gt;Sheriff&#39;s Department&lt;/code&gt; in the name.&lt;/p&gt;
&lt;p&gt;The police deaths dataset only included department names and states. So to determine the exact location of each department, I assumed each department was named after the city or county where it was located (e.g.¬†Dallas Police Department in the city of Dallas). If a department didn‚Äôt follow this naming convention, it was excluded from analysis.&lt;/p&gt;
&lt;p&gt;Finally, I matched up the city and county names with the names in the census data sets. Sometimes they didn‚Äôt match. For example, Nashville appears in the census data set as &lt;code&gt;Nashville-Davidson metropolitan government&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;results&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Results&lt;/h1&gt;
&lt;div id=&#34;cumulative-deaths-compared-to-population&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Cumulative deaths compared to population&lt;/h2&gt;
&lt;p&gt;First, let‚Äôs just compare city/county population to the cumulative number of officer deaths since 1980.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;popVsDeaths &amp;lt;- ggplot() +
  geom_point(data = filter(deathCountsWithLabels, population &amp;lt;= 75000),
             mapping = aes(x = log10(population), y = numDeaths, shape = locationType),
             color = &amp;quot;turquoise3&amp;quot;, alpha = 1/3, show.legend = FALSE) +
  geom_point(data = filter(deathCountsWithLabels, population &amp;gt; 75000),
             mapping = aes(x = log10(population), y = numDeaths, shape = locationType),
             color = &amp;quot;darkslategrey&amp;quot;, alpha = 1/3) +
  geom_point(data = deathCountsHighlights,
             mapping = aes(x = log10(population), y = numDeaths, shape = locationType),
             color = &amp;quot;orangered1&amp;quot;,
             show.legend = FALSE) +
  geom_text_repel(data = deathCountsWithLabels,
                  mapping = aes(x = log10(population), y = numDeaths, label = locationLabel),
                  size = 3,
                  max.overlaps = Inf) +
  scale_x_continuous(labels = c(&amp;quot;100&amp;quot;, &amp;quot;1,000&amp;quot;, &amp;quot;10,000&amp;quot;, &amp;quot;100,000&amp;quot;, &amp;quot;1,000,000&amp;quot;, &amp;quot;10,000,000&amp;quot;)) +
  labs(x = &amp;quot;Population&amp;quot;,
       y = &amp;quot;Deaths&amp;quot;,
       shape = &amp;quot;Location Type&amp;quot;,
       title = str_c(&amp;quot;Officer Deaths, &amp;quot;, startingYear, &amp;quot;-&amp;quot;, finalYear)) +
  guides(shape = guide_legend(override.aes = list(alpha = 1, color = &amp;quot;black&amp;quot;)))
print(popVsDeaths)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/three-police-offers-have-died-in-terre-haute-in-the-last-10-years.-is-that-a-lot/index_files/figure-html/pop-vs-deaths-plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;‚ö†Ô∏è One problem with this plot is that many departments showing zero deaths are actually mistakes. This is due to the overly simple department-location matching procedure I used.&lt;/p&gt;
&lt;p&gt;One example is the Miami-Dade Police Department. This got included because it has the phrase &lt;code&gt;Police Department&lt;/code&gt; in it. However, Miami-Dade is a county (a large one, with about 2.5 million people living there) and is identified as &lt;code&gt;Miami-Dade County&lt;/code&gt; in my county population dataset. So the department name and county name fail to match because the word ‚Äúcounty‚Äù doesn‚Äôt appear in the name of the department.&lt;/p&gt;
&lt;p&gt;This actually happened a lot, so you can‚Äôt really trust all the zeros. But surely some of the zeros are accurate. For example, &lt;a href=&#34;https://inlem.org/lodd-stats/&#34;&gt;this site&lt;/a&gt; reports that 16 out of Indiana‚Äôs 92 counties have had no ‚Äúline of duty‚Äù deaths. To not include departments with no deaths would be a mistake. But given the dataset I had, there wasn‚Äôt a reliable way to identify those departments, and I knew for a fact that many of the zeros I found were simply due to name mismatches. So I decided it was best overall to just remove the zeros entirely.&lt;/p&gt;
&lt;p&gt;Here‚Äôs the same plot with the zeros removed.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;popVsDeaths2 &amp;lt;- ggplot() +
  geom_point(data = filter(deathCountsWithLabels2, population &amp;lt;= 75000),
             mapping = aes(x = log10(population), y = numDeaths, shape = locationType),
             color = &amp;quot;turquoise3&amp;quot;, alpha = 1/3, show.legend = FALSE) +
  geom_point(data = filter(deathCountsWithLabels2, population &amp;gt; 75000),
             mapping = aes(x = log10(population), y = numDeaths, shape = locationType),
             color = &amp;quot;darkslategrey&amp;quot;, alpha = 1/3) +
  geom_point(data = deathCountsHighlights2,
             mapping = aes(x = log10(population), y = numDeaths, shape = locationType),
             color = &amp;quot;orangered1&amp;quot;,
             show.legend = FALSE) +
  geom_text_repel(data = deathCountsWithLabels2,
                  mapping = aes(x = log10(population), y = numDeaths, label = locationLabel),
                  size = 3,
                  max.overlaps = Inf) +
  scale_x_continuous(labels = c(&amp;quot;1,000&amp;quot;, &amp;quot;10,000&amp;quot;, &amp;quot;100,000&amp;quot;, &amp;quot;1,000,000&amp;quot;, &amp;quot;10,000,000&amp;quot;)) +
  labs(x = &amp;quot;Population&amp;quot;,
       y = &amp;quot;Deaths&amp;quot;,
       shape = &amp;quot;Location&amp;quot;,
       title = str_c(&amp;quot;Officer Deaths, &amp;quot;, startingYear, &amp;quot;-&amp;quot;, finalYear),
       subtitle = &amp;quot;Locations where at least one death occurred&amp;quot;) +
  guides(shape = guide_legend(override.aes = list(alpha = 1, color = &amp;quot;black&amp;quot;)))
print(popVsDeaths2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/three-police-offers-have-died-in-terre-haute-in-the-last-10-years.-is-that-a-lot/index_files/figure-html/pop-vs-deaths-plot-no-zeros-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Many fewer departments (especially from small cities), but same basic shape. In both plots, I‚Äôve colored small towns like Terre Haute in turquoise and also higlighted a few standout locations to help you orient yourself.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;scaling-by-population&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Scaling by population&lt;/h2&gt;
&lt;p&gt;These plots are a little hard to make sense of because the larger cities have way more deaths which squashes the plot vertically and makes it difficult to draw comparisons. So let‚Äôs try scaling the number of deaths by city/county population.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note&lt;/em&gt;: Arguably it would make more sense to scale by department size, but this information is harder to come by. I assume department size is correlated with population anyway.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Also, from this point on, I‚Äôm going to continue to exclude the zero-death locations for the reasons explained above.&lt;/em&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;scaledPopsVsDeaths &amp;lt;- ggplot(data = deathCountsNoZeros) +
  geom_point(mapping = aes(x = log10(population), y = deathsPer10k, size = numDeaths),
             shape = &amp;quot;circle open&amp;quot;,
             alpha = 1/3) +
  geom_point(data = deathCountsHighlights2,
             mapping = aes(x = log10(population), y = deathsPer10k, size = numDeaths),
             shape = &amp;quot;circle&amp;quot;,
             color = &amp;quot;coral3&amp;quot;,
             show.legend = FALSE) +
  geom_text_repel(data = deathCountsWithLabels2,
                  mapping = aes(x = log10(population), y = deathsPer10k, size = numDeaths,
                                label = locationLabel),
                  size = 3,
                  max.overlaps = Inf) +
  scale_x_continuous(labels = c(&amp;quot;1,000&amp;quot;, &amp;quot;10,000&amp;quot;, &amp;quot;100,000&amp;quot;, &amp;quot;1,000,000&amp;quot;, &amp;quot;10,000,000&amp;quot;)) +
  labs(x = &amp;quot;Population&amp;quot;,
       y = &amp;quot;Deaths per 10K&amp;quot;,
       size = &amp;quot;Total deaths&amp;quot;,
       title = &amp;quot;Officer deaths per 10,000 in the department&amp;#39;s jurisdiction&amp;quot;,
       subtitle = str_c(&amp;quot;Cumulative deaths, &amp;quot;, startingYear, &amp;quot;-&amp;quot;, finalYear)) +
  theme(legend.position = &amp;quot;bottom&amp;quot;)
  
print(scaledPopsVsDeaths)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/three-police-offers-have-died-in-terre-haute-in-the-last-10-years.-is-that-a-lot/index_files/figure-html/scaled-pop-vs-deaths-plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This plot suggests that Terre Haute is above average but maybe not a huge outlier, even among cities of similar population size.&lt;/p&gt;
&lt;p&gt;More generally, this plot suggests there is not much of a relationship between city size and number of officer deaths, at least for cities above a certain size. The reason it looks like there is a relationship between population and deaths is almost certainly due to there being greater variability for smaller towns/departments. For example, a single death in a small town would have a big effect on this metric.&lt;/p&gt;
&lt;p&gt;So let‚Äôs exclude small towns (population &amp;lt; 50,000) to get a better understanding.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;scaledPopsVsDeaths_noSmallTowns &amp;lt;- ggplot(data = deathCounts_noSmallTowns) +
  geom_point(mapping = aes(x = log10(population), y = deathsPer10k, size = numDeaths),
             shape = &amp;quot;circle open&amp;quot;,
             alpha = 1/3) +
  geom_point(data = deathCountsHighlights_noSmallTowns,
             mapping = aes(x = log10(population), y = deathsPer10k, size = numDeaths),
             shape = &amp;quot;circle&amp;quot;,
             color = &amp;quot;coral3&amp;quot;,
             show.legend = FALSE) +
  geom_text_repel(data = deathCountsWithLabels_noSmallTowns,
                  mapping = aes(x = log10(population), y = deathsPer10k, size = numDeaths,
                                label = locationLabel),
                  size = 3) +
  scale_x_continuous(breaks = c(4,5,6,7),
                     labels = c(&amp;quot;10,000&amp;quot;, &amp;quot;100,000&amp;quot;, &amp;quot;1,000,000&amp;quot;, &amp;quot;10,000,000&amp;quot;)) +
  labs(x = &amp;quot;Population&amp;quot;,
       y = &amp;quot;Deaths per 10K&amp;quot;,
       size = &amp;quot;Total deaths&amp;quot;,
       title = &amp;quot;Officer deaths per 10,000 people in the department&amp;#39;s jurisdiction&amp;quot;,
       subtitle = str_c(&amp;quot;Cumulative deaths, &amp;quot;, startingYear, &amp;quot;-&amp;quot;, finalYear)) +
  theme(legend.position = &amp;quot;bottom&amp;quot;)
  
print(scaledPopsVsDeaths_noSmallTowns)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/three-police-offers-have-died-in-terre-haute-in-the-last-10-years.-is-that-a-lot/index_files/figure-html/scaled-pops-vs-deaths-no-small-towns-plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This plot allows us to get a better sense of variability, especially among midsize towns. In this plot, Terre Haute does look a bit more like an outlier. In more quantitative terms, among the locations in the plot above, &lt;strong&gt;Terre Haute is in the 99th percentile for officer deaths&lt;/strong&gt;, scaled by population size. It drops to the 93rd percentile if you include the small towns that were in the previous plot.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;officer-deaths-over-time&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Officer deaths over time&lt;/h2&gt;
&lt;p&gt;One last question I had was whether Terre Haute‚Äôs outlier status was driven by the last 10 years. To get a sense of this, let‚Äôs look at officer deaths over time.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;deathsOverTime &amp;lt;- ggplot(data = deathCountsByYear) +
  geom_step(mapping = aes(x = EOW, y = deathsPer10k, group = location_long),
            alpha = 1/12) +
  geom_step(data = deathCountsByYearHighlights,
            mapping = aes(x = EOW, y = deathsPer10k, group = location_long),
            color = &amp;quot;gold2&amp;quot;,
            alpha = 2/3) +
  geom_step(data = filter(deathCountsByYear, location_long == &amp;quot;Terre Haute, IN&amp;quot;),
            mapping = aes(x = EOW, y = deathsPer10k),
            color = &amp;quot;coral3&amp;quot;,
            size = 1.5) +
  geom_text_repel(data = filter(deathCountsByYearHighlights, EOW == today()),
                  mapping = aes(x = EOW, y = deathsPer10k, group = location_long,
                                label = location_long),
                  size = 3) +
  labs(title = &amp;quot;Cumulative officer deaths&amp;quot;,
       subtitle = &amp;quot;Jurisdictions with populations &amp;gt; 50,000&amp;quot;,
       x = &amp;quot;Date&amp;quot;,
       y = &amp;quot;Total deaths per 10,000 residents&amp;quot;) +
  theme_minimal() +
  theme(panel.grid.minor.x = element_blank(),
        panel.grid.major.x = element_blank(),
        panel.grid.minor.y = element_blank())
print(deathsOverTime)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://alanjern.github.io/post/three-police-offers-have-died-in-terre-haute-in-the-last-10-years.-is-that-a-lot/index_files/figure-html/deaths-over-time-plot-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This plot shows cumulative deaths since 1980 for each department serving an area over 50,000 (again limited to only those departments that had at least one death). Terre Haute is highlighted. It gives the impression that Terre Haute wasn‚Äôt much of an outlier until the past 10 years when the last three officers died.&lt;/p&gt;
&lt;p&gt;It also shows that no officers died in Terre Haute for several decades before 2011.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;conclusion&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Conclusion ‚òëÔ∏è&lt;/h1&gt;
&lt;p&gt;I think it‚Äôs fair to say that, right now, Terre Haute stands out statistically. The question is whether that‚Äôs indicative of anything meaningful. With thousands of jurisdictions across the US, some are bound to have unusually high numbers of deaths due to random chance alone. So it‚Äôs hard to draw any broad conclusions from these results without more information.&lt;/p&gt;
&lt;p&gt;For example, speaking for myself, as someone pretty ignorant of law enforcement, I imagined ‚Äúline of duty‚Äù deaths to be the result of attacks at the hands of suspects. But a number of the deaths in the dataset were caused by things like car crashes, Covid-19 (from the past two years), and heart attacks ‚Äì things that happened while on the job but might be hard to attribute to the job itself. My point isn‚Äôt to diminish any of these deaths at all, only to point out that more deaths isn‚Äôt necessarily a sign of some underlying cause or problem. You would need to look at the causes of death (among other factors) before drawing a conclusion like that.&lt;/p&gt;
&lt;div id=&#34;code-and-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Code and data üìë&lt;/h2&gt;
&lt;p&gt;Data and the full analysis code I used to generate these plots are available &lt;a href=&#34;https://github.com/alanjern/police-officer-deaths&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>
